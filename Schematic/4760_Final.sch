EESchema Schematic File Version 4
LIBS:4760_Final-cache
EELAYER 30 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 2
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
Text GLabel 2050 4450 0    50   Input ~ 0
HOT_AC
$Comp
L Relay:DIPxx-1Axx-12x K?
U 1 1 5D9D0B46
P 4350 3800
F 0 "K?" V 3783 3800 50  0000 C CNN
F 1 "RENAME LATER" V 3874 3800 50  0000 C CNN
F 2 "Relay_THT:Relay_StandexMeder_DIP_LowProfile" H 4700 3750 50  0001 L CNN
F 3 "https://standexelectronics.com/wp-content/uploads/datasheet_reed_relay_DIP.pdf" H 4350 3800 50  0001 C CNN
	1    4350 3800
	0    1    1    0   
$EndComp
$Sheet
S 2900 5250 650  500 
U 5D9D433E
F0 "pseudo5VBrick.sch" 50
F1 "psuedo5VBrick.sch" 50
F2 "V_AC" I L 2900 5350 50 
F3 "GND" I L 2900 5600 50 
F4 "5V_DC" I R 3550 5350 50 
F5 "GND_DC" O R 3550 5600 50 
$EndSheet
Wire Wire Line
	2600 4950 2600 5600
Wire Wire Line
	2600 5600 2900 5600
$Comp
L power:+5V #PWR?
U 1 1 5D9D5323
P 4000 5250
F 0 "#PWR?" H 4000 5100 50  0001 C CNN
F 1 "+5V" H 4015 5423 50  0000 C CNN
F 2 "" H 4000 5250 50  0001 C CNN
F 3 "" H 4000 5250 50  0001 C CNN
	1    4000 5250
	1    0    0    -1  
$EndComp
Wire Wire Line
	4000 5250 4000 5350
Wire Wire Line
	3550 5350 4000 5350
$Comp
L MCU_Module:RaspberryPi-CM1 U?
U 1 1 5D9D65A8
P 16950 2650
F 0 "U?" H 16950 -739 50  0000 C CNN
F 1 "RaspberryPi-CM1" H 16950 -830 50  0000 C CNN
F 2 "" H 16350 6050 50  0001 C CNN
F 3 "https://www.raspberrypi.org/documentation/hardware/computemodule/datasheets/rpi_DATA_CM_1p0.pdf" H 16350 6050 50  0001 C CNN
	1    16950 2650
	1    0    0    -1  
$EndComp
Wire Wire Line
	2450 4950 2600 4950
$Comp
L power:GND #PWR?
U 1 1 5D9E515C
P 4150 5650
F 0 "#PWR?" H 4150 5400 50  0001 C CNN
F 1 "GND" H 4155 5477 50  0000 C CNN
F 2 "" H 4150 5650 50  0001 C CNN
F 3 "" H 4150 5650 50  0001 C CNN
	1    4150 5650
	1    0    0    -1  
$EndComp
Wire Wire Line
	4150 5650 4150 5600
Wire Wire Line
	3550 5600 4150 5600
$Comp
L Sensor_Current:ACS711xEXLT-15AB U?
U 1 1 5D9EAF0B
P 3200 3600
F 0 "U?" V 3246 4043 50  0000 L CNN
F 1 "NAME LATER" V 3155 4043 50  0000 L CNN
F 2 "Sensor_Current:Allegro_QFN-12-10-1EP_3x3mm_P0.5mm" H 3550 3550 50  0001 L CIN
F 3 "http://www.allegromicro.com/~/Media/Files/Datasheets/ACS711-Datasheet.ashx" H 3200 3600 50  0001 C CNN
	1    3200 3600
	0    -1   -1   0   
$EndComp
Wire Wire Line
	2650 4000 2650 4300
Wire Wire Line
	2700 5350 2900 5350
Wire Wire Line
	2550 4300 2650 4300
Text Notes 3500 -350 0    50   ~ 0
third prong???\n
Text Notes 5700 -650 0    50   ~ 0
PIC32 schematic symbol. bring that in
Text GLabel 1500 3950 2    50   Input ~ 0
NEUTRAL
Wire Wire Line
	3300 4000 3600 4000
$Comp
L power:NEUT #PWR?
U 1 1 5DA5B86A
P 2450 4950
F 0 "#PWR?" H 2450 4800 50  0001 C CNN
F 1 "NEUT" H 2467 5123 50  0000 C CNN
F 2 "" H 2450 4950 50  0001 C CNN
F 3 "" H 2450 4950 50  0001 C CNN
	1    2450 4950
	-1   0    0    1   
$EndComp
$Comp
L power:NEUT #PWR?
U 1 1 5DA60862
P 1500 3700
F 0 "#PWR?" H 1500 3550 50  0001 C CNN
F 1 "NEUT" H 1517 3873 50  0000 C CNN
F 2 "" H 1500 3700 50  0001 C CNN
F 3 "" H 1500 3700 50  0001 C CNN
	1    1500 3700
	1    0    0    -1  
$EndComp
$Comp
L Connector:Conn_01x03_Female J?
U 1 1 5DBE34F5
P 1150 4150
F 0 "J?" H 1042 4435 50  0000 C CNN
F 1 "InputPower" H 1400 4150 50  0000 C CNN
F 2 "" H 1150 4150 50  0001 C CNN
F 3 "~" H 1150 4150 50  0001 C CNN
	1    1150 4150
	-1   0    0    -1  
$EndComp
Wire Wire Line
	1500 4050 1350 4050
Wire Wire Line
	2150 4300 2150 4450
Wire Wire Line
	1350 4250 1350 4400
Text GLabel 1450 4400 2    50   Input ~ 0
GFCI
Wire Wire Line
	1350 4400 1450 4400
$Comp
L Connector:Conn_01x03_Female J?
U 1 1 5DBF500E
P 7800 3950
F 0 "J?" H 7692 4235 50  0000 C CNN
F 1 "OutputPower" H 7400 4350 50  0000 C CNN
F 2 "" H 7800 3950 50  0001 C CNN
F 3 "~" H 7800 3950 50  0001 C CNN
	1    7800 3950
	1    0    0    -1  
$EndComp
Wire Wire Line
	7400 3850 7400 3950
Wire Wire Line
	7400 3950 7600 3950
Text GLabel 7400 3750 0    50   Input ~ 0
NEUTRAL
Wire Wire Line
	7600 3750 7600 3850
Wire Wire Line
	7400 3750 7600 3750
Text GLabel 7350 4050 0    50   Input ~ 0
GFCI
Wire Wire Line
	7350 4050 7600 4050
$Comp
L Connector:Conn_01x03_Female J?
U 1 1 5DBFA103
P 7800 4300
F 0 "J?" H 7692 4585 50  0000 C CNN
F 1 "OutputPower" H 7550 4050 50  0000 C CNN
F 2 "" H 7800 4300 50  0001 C CNN
F 3 "~" H 7800 4300 50  0001 C CNN
	1    7800 4300
	1    0    0    -1  
$EndComp
Text GLabel 7400 4200 0    50   Input ~ 0
NEUTRAL
Wire Wire Line
	7400 4200 7600 4200
Wire Wire Line
	1500 3700 1500 4050
Wire Wire Line
	6700 4300 7600 4300
Wire Wire Line
	6700 3850 7400 3850
Text GLabel 7350 4400 0    50   Input ~ 0
GFCI
Wire Wire Line
	7350 4400 7600 4400
Wire Wire Line
	3600 3600 3750 3600
Wire Wire Line
	2800 3600 2800 3350
$Comp
L power:+5V #PWR?
U 1 1 5DC04101
P 2800 3350
F 0 "#PWR?" H 2800 3200 50  0001 C CNN
F 1 "+5V" H 2815 3523 50  0000 C CNN
F 2 "" H 2800 3350 50  0001 C CNN
F 3 "" H 2800 3350 50  0001 C CNN
	1    2800 3350
	1    0    0    -1  
$EndComp
$Comp
L power:GND #PWR?
U 1 1 5DC0463E
P 3750 3650
F 0 "#PWR?" H 3750 3400 50  0001 C CNN
F 1 "GND" H 3755 3477 50  0000 C CNN
F 2 "" H 3750 3650 50  0001 C CNN
F 3 "" H 3750 3650 50  0001 C CNN
	1    3750 3650
	1    0    0    -1  
$EndComp
Wire Wire Line
	3750 3650 3750 3600
Text Label 3200 2750 0    50   ~ 0
CURRENT_BEFORE_RELAY
Wire Wire Line
	3200 2750 3200 3200
NoConn ~ 3600 3400
NoConn ~ 3600 3500
NoConn ~ 3600 3700
NoConn ~ 3600 3800
Wire Wire Line
	3300 3200 3300 2950
Wire Wire Line
	3300 2950 3350 2950
Text Label 3350 2950 0    50   ~ 0
~FAULT_BEFORE_RELAY
Wire Wire Line
	4050 3600 4050 3100
Wire Wire Line
	4650 3600 4650 3150
Wire Wire Line
	6700 4000 6700 3850
Wire Wire Line
	6700 4000 6700 4300
Connection ~ 6700 4000
Text Label 5450 5750 2    50   ~ 0
~ENABLE_PIC
$Comp
L 4760_Final-rescue:NMOS-cuauv Q?
U 1 1 5DC24080
P 5850 5750
F 0 "Q?" H 6040 5796 50  0000 L CNN
F 1 "NMOS" H 6040 5705 50  0000 L CNN
F 2 "cuauv:SOT-23-3" H 6050 5850 50  0001 C CNN
F 3 "" H 6150 5800 50  0000 C CNN
	1    5850 5750
	1    0    0    -1  
$EndComp
Wire Wire Line
	5450 5750 5650 5750
$Comp
L power:+5V #PWR?
U 1 1 5DC27787
P 5950 4950
F 0 "#PWR?" H 5950 4800 50  0001 C CNN
F 1 "+5V" H 5965 5123 50  0000 C CNN
F 2 "" H 5950 4950 50  0001 C CNN
F 3 "" H 5950 4950 50  0001 C CNN
	1    5950 4950
	1    0    0    -1  
$EndComp
Wire Wire Line
	5950 5950 5950 6100
$Comp
L power:GND #PWR?
U 1 1 5DC28C9F
P 5950 6100
F 0 "#PWR?" H 5950 5850 50  0001 C CNN
F 1 "GND" H 5955 5927 50  0000 C CNN
F 2 "" H 5950 6100 50  0001 C CNN
F 3 "" H 5950 6100 50  0001 C CNN
	1    5950 6100
	1    0    0    -1  
$EndComp
Text Label 4050 3100 0    50   ~ 0
ENABLE_RELAY
$Comp
L power:GND #PWR?
U 1 1 5DC2962E
P 4750 3150
F 0 "#PWR?" H 4750 2900 50  0001 C CNN
F 1 "GND" H 4850 3250 50  0000 R CNN
F 2 "" H 4750 3150 50  0001 C CNN
F 3 "" H 4750 3150 50  0001 C CNN
	1    4750 3150
	1    0    0    -1  
$EndComp
Wire Wire Line
	4750 3150 4650 3150
Wire Wire Line
	3000 4000 2650 4000
$Comp
L Switch:SW_SPST SW?
U 1 1 5DC1C446
P 2350 4300
F 0 "SW?" H 2350 4535 50  0000 C CNN
F 1 "SW_SPST" H 2350 4444 50  0000 C CNN
F 2 "" H 2350 4300 50  0001 C CNN
F 3 "~" H 2350 4300 50  0001 C CNN
	1    2350 4300
	1    0    0    -1  
$EndComp
Text GLabel 2600 5300 0    50   Input ~ 0
NEUTRAL
$Comp
L Device:R R?
U 1 1 5DC1D7B2
P 5950 5300
F 0 "R?" H 6020 5346 50  0000 L CNN
F 1 "1k" V 5950 5250 50  0000 L CNN
F 2 "" V 5880 5300 50  0001 C CNN
F 3 "~" H 5950 5300 50  0001 C CNN
	1    5950 5300
	1    0    0    -1  
$EndComp
Wire Wire Line
	5950 5450 5950 5500
Text Label 6150 5500 0    50   ~ 0
ENABLE_RELAY
Wire Wire Line
	5950 5500 6150 5500
Connection ~ 5950 5500
Wire Wire Line
	5950 5500 5950 5550
Wire Wire Line
	5950 4950 5950 5150
Text Notes 19450 -650 0    118  ~ 0
Use actual MCU later\n
Wire Wire Line
	2050 4450 2150 4450
Connection ~ 2150 4300
Wire Wire Line
	2000 4150 2000 4300
Wire Wire Line
	1350 4150 2000 4150
Wire Wire Line
	2000 4300 2150 4300
Wire Wire Line
	2700 5350 2700 4500
Wire Wire Line
	2700 4500 3600 4500
Wire Wire Line
	3600 4500 3600 4000
Connection ~ 3600 4000
Wire Wire Line
	3600 4000 4050 4000
Wire Wire Line
	4650 4000 6700 4000
$EndSCHEMATC
